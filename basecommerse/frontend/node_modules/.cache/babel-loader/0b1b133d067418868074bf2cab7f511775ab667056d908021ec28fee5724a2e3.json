{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FER\\\\Documents\\\\GitHub\\\\basecommerse\\\\basecommerse\\\\frontend\\\\src\\\\pages\\\\BooksInfo.jsx\",\n  _s = $RefreshSig$();\nimport { useParams } from \"react-router-dom\";\nimport { useReducer, useEffect } from 'react';\nimport logger from 'use-reducer-logger';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return {\n        ...state,\n        loading: true\n      };\n    case 'FETCH_SUCCESS':\n      return {\n        ...state,\n        book: action.payload,\n        loading: false\n      };\n    case 'FETCH_FAIL':\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    default:\n      return state;\n  }\n};\nconst BooksInfo = () => {\n  _s();\n  const [{\n    loading,\n    error,\n    book\n  }, dispatch] = useReducer(reducer, {\n    book: [],\n    loading: true,\n    error: ''\n  });\n  useEffect(() => {\n    getData();\n  }, [codigoISBN]);\n  const getData = async () => {\n    dispatch({\n      type: 'FETCH_REQUEST'\n    });\n    try {\n      const result = await axios.get(`/api/books/codigoISBN/${codigoISBN}`);\n      dispatch({\n        type: 'FETCH_SUCCESS',\n        payload: result.data\n      });\n    } catch (err) {\n      dispatch({\n        type: 'FETCH_FAIL',\n        payload: err.message\n      });\n    }\n  };\n  const params = useParams();\n  const {\n    codigoISBN\n  } = params;\n  return loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 18\n  }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 18\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: book.name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(BooksInfo, \"YZsVjUUGlvVI2K4/+caYlsIN4II=\", false, function () {\n  return [useParams];\n});\n_c = BooksInfo;\nexport default BooksInfo;\nvar _c;\n$RefreshReg$(_c, \"BooksInfo\");","map":{"version":3,"names":["useParams","useReducer","useEffect","logger","axios","reducer","state","action","type","loading","book","payload","error","BooksInfo","dispatch","getData","codigoISBN","result","get","data","err","message","params","name"],"sources":["C:/Users/FER/Documents/GitHub/basecommerse/basecommerse/frontend/src/pages/BooksInfo.jsx"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport { useReducer, useEffect } from 'react';\r\nimport logger from 'use-reducer-logger';\r\nimport axios from 'axios'\r\n\r\n\r\nconst reducer = (state,action) => {\r\n    switch (action.type) {\r\n        case 'FETCH_REQUEST':\r\n        return{...state,loading: true};\r\n        case 'FETCH_SUCCESS':\r\n        return {...state,  book: action.payload,loading:false};\r\n        case 'FETCH_FAIL':\r\n        return {...state,loading:false, error:action.payload};\r\n        default:\r\n        return state;     \r\n    }\r\n};\r\n\r\nconst BooksInfo = () => {\r\n    const [{loading,error,book}, dispatch] = useReducer(reducer,{\r\n        book: [],\r\n        loading: true, \r\n        error:'',\r\n    });      \r\n    useEffect(() => {\r\n        getData();\r\n    }, [codigoISBN]);\r\n  \r\n    const getData = async () => {\r\n        dispatch({type:'FETCH_REQUEST'});\r\n        try {\r\n            const result = await axios.get(`/api/books/codigoISBN/${codigoISBN}`);\r\n            dispatch({type:'FETCH_SUCCESS', payload: result.data});\r\n        } catch (err) {\r\n            dispatch({type:'FETCH_FAIL',payload:err.message});\r\n        }       \r\n    };\r\n    const params = useParams();\r\n    const {codigoISBN} = params;\r\n\r\n    return (\r\n        loading? <div>Loading...</div>\r\n        : error? <div>{error}</div>\r\n        :\r\n        <div>\r\n            {book.name}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BooksInfo;"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,OAAOC,MAAM,MAAM,oBAAoB;AACvC,OAAOC,KAAK,MAAM,OAAO;AAAA;AAGzB,MAAMC,OAAO,GAAG,CAACC,KAAK,EAACC,MAAM,KAAK;EAC9B,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,eAAe;MACpB,OAAM;QAAC,GAAGF,KAAK;QAACG,OAAO,EAAE;MAAI,CAAC;IAC9B,KAAK,eAAe;MACpB,OAAO;QAAC,GAAGH,KAAK;QAAGI,IAAI,EAAEH,MAAM,CAACI,OAAO;QAACF,OAAO,EAAC;MAAK,CAAC;IACtD,KAAK,YAAY;MACjB,OAAO;QAAC,GAAGH,KAAK;QAACG,OAAO,EAAC,KAAK;QAAEG,KAAK,EAACL,MAAM,CAACI;MAAO,CAAC;IACrD;MACA,OAAOL,KAAK;EAAC;AAErB,CAAC;AAED,MAAMO,SAAS,GAAG,MAAM;EAAA;EACpB,MAAM,CAAC;IAACJ,OAAO;IAACG,KAAK;IAACF;EAAI,CAAC,EAAEI,QAAQ,CAAC,GAAGb,UAAU,CAACI,OAAO,EAAC;IACxDK,IAAI,EAAE,EAAE;IACRD,OAAO,EAAE,IAAI;IACbG,KAAK,EAAC;EACV,CAAC,CAAC;EACFV,SAAS,CAAC,MAAM;IACZa,OAAO,EAAE;EACb,CAAC,EAAE,CAACC,UAAU,CAAC,CAAC;EAEhB,MAAMD,OAAO,GAAG,YAAY;IACxBD,QAAQ,CAAC;MAACN,IAAI,EAAC;IAAe,CAAC,CAAC;IAChC,IAAI;MACA,MAAMS,MAAM,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAE,yBAAwBF,UAAW,EAAC,CAAC;MACrEF,QAAQ,CAAC;QAACN,IAAI,EAAC,eAAe;QAAEG,OAAO,EAAEM,MAAM,CAACE;MAAI,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVN,QAAQ,CAAC;QAACN,IAAI,EAAC,YAAY;QAACG,OAAO,EAACS,GAAG,CAACC;MAAO,CAAC,CAAC;IACrD;EACJ,CAAC;EACD,MAAMC,MAAM,GAAGtB,SAAS,EAAE;EAC1B,MAAM;IAACgB;EAAU,CAAC,GAAGM,MAAM;EAE3B,OACIb,OAAO,gBAAE;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAqB,GAC5BG,KAAK,gBAAE;IAAA,UAAMA;EAAK;IAAA;IAAA;IAAA;EAAA,QAAO,gBAE3B;IAAA,UACKF,IAAI,CAACa;EAAI;IAAA;IAAA;IAAA;EAAA,QACR;AAEd,CAAC;AAAC,GA9BIV,SAAS;EAAA,QAmBIb,SAAS;AAAA;AAAA,KAnBtBa,SAAS;AAgCf,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}